<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset='utf-8' />
    <title>CAMERA-Joystick</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <link href='http://admin:admin@192.168.1.101:8081/' rel='stylesheet' />
    <link rel="shortcut icon" type="image/x-icon" href="./images/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="./css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="./css/source-sans-pro.css" />
    <link rel="stylesheet" type="text/css" href="./css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="./css/ionicons.min.css">
    <link rel="stylesheet" type="text/css" href="./css/AdminLTE.min.css" />
    <link rel="stylesheet" type="text/css" href="./css/_all-skins.css" />
    <link rel="stylesheet" type="text/css" href="./css/animate.css" />
    <link rel="stylesheet" type="text/css" href="./css/mapstyle.css" />
    <link rel="stylesheet" type="text/css" href="./css/style.css" />

</head>
<body class="hold-transition skin-real-dark layout-top-nav">
    <div class="wrapper">
        <header class="main-header">
            <nav class="navbar navbar-static-top">
                <div class="container">
                    <div class="navbar-header">
                        <a class="navbar-brand" href="#"><img src="./images/itu_rover_white.png" alt="ITU Rover Team" style="box-sizing: border-box;
                                                                                                                       width: 60px"></a>
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <i class="fa fa-bars"></i>
                        </button>
                    </div>
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">
                            <li><a href="index.html">DASHBOARD</a> </li>
                            <li><a href="mission-planning.html">PLAN</a> </li>
                            <li class="active"><a>CAMERA-Joystick <span class="sr-only">(current)</span></a></li>
                            <li><a href="http://admin:admin@192.168.1.101:8081/" target="_blank">Camera</a></li>
                            
                            
                        </ul>
                    </div>
                </div>
            </nav>
        </header>
    </div>
  <div class="content-wrapper">
        <div class="container-fluid">
            <section class="content">
                <div class="row">
                    <div id='canvascontainer'>
                    <canvas width="500" height="500"></canvas>
                    </div>
                    <br>
                  
                    <button type="button" tabindex="W" id="upbutton" ontouchstart="moveup()" onmousedown="moveup()" onmouseup="clearmove()" onclick="upbutton">Up</button>
                    <br>
                    
                    <button ontouchstart="moveleft()" onmousedown="moveleft()" onmouseup="clearmove()" tabIndex="a">Left</button>
                    <br>
                    <button ontouchstart="moveright()" onmousedown="moveright()" onmouseup="clearmove()" tabIndex="D">Right</button>
                    <br>
                    
                    <button ontouchstart="movedown()" onmousedown="movedown()" onmouseup="clearmove()" tabIndex="S">Down</button>
                   
                </div>
                <div class="row">
                    <!-- Global Info -->
                    <div class="col-md-12">
                        
                        
    </div> 
                </div>
            </section>
      </div>
    </div>
                        
    <script>


var myGameArea;
var myGamePiece;
        
function myFunction() {
    document.getElementById("upbutton").click();
}
function startGame() {
    myGameArea = new gamearea();
    myGamePiece = new component(30, 30, "grey", 10, 75);
    myGameArea.start();    
}

function gamearea() {
    this.canvas = document.createElement("canvas");
    this.canvas.width = 320;
    this.canvas.height = 180;    
    document.getElementById("canvascontainer").appendChild(this.canvas);
    this.context = this.canvas.getContext("2d");
    this.start = function() {
        this.interval = setInterval(updateGameArea, 20);
    }
    this.clear = function(){
        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
    }        
}

function component(width, height, color, x, y) {
    this.width = width;
    this.height = height;
    this.x = x;
    this.y = y; 
    this.speedX = 0;
    this.speedY = 0;       
    this.update = function() {
        ctx = myGameArea.context;
        ctx.fillStyle = color;
        ctx.fillRect(this.x, this.y, this.width, this.height);
    }
}

function updateGameArea() {
    myGameArea.clear();
    myGamePiece.x += myGamePiece.speedX;
    myGamePiece.y += myGamePiece.speedY;    
    myGamePiece.update();
}

function moveup(e) {
    myGamePiece.speedY = -1; 
}

function movedown() {
    myGamePiece.speedY = 1; 
}

function moveleft() {
    myGamePiece.speedX = -1; 
}

function moveright() {
    myGamePiece.speedX = 1; 
}

function clearmove(e) {
    myGamePiece.speedX = 0; 
    myGamePiece.speedY = 0; 
}
startGame();
</script>  
    <script type="text/javascript" src="./js/external/jquery-2.2.4.min.js"></script>
    <script type="text/javascript" src="./js/mission-planning.js"></script>
    <script type="text/javascript" src="./js/external/bootstrap.min.js"></script>
    <script type="text/javascript" src="./js/external/eventemitter2.min.js"></script>
    <script type="text/javascript" src="./js/external/app.min.js"></script>
    <script type="text/javascript" src="./js/ui-customizations.js"></script>
    <script type="text/javascript" src="./js/external/roslib.min.js"></script>
    <script src="./js/map-operations.js" type="text/javascript"></script>
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.41.0/mapbox-gl.js'></script>
    <script src='./js/mission-planning.js" type="text/javascript'></script>
</body>

</html>